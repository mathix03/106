
CREATE ROLE 'r_admin';
CREATE ROLE 'r_gerant';
CREATE ROLE 'r_livreur';
CREATE ROLE 'r_client';

GRANT ALL PRIVILEGES ON pizzeria_db.* TO 'r_admin';

GRANT INSERT, UPDATE, DELETE, SELECT ON pizzeria_db.t_article TO 'r_gerant';
GRANT INSERT, UPDATE, DELETE, SELECT ON pizzeria_db.t_livreur TO 'r_gerant';

GRANT SELECT ON pizzeria_db.t_commande TO 'r_gerant';
GRANT SELECT ON pizzeria_db.t_ligne_commande TO 'r_gerant';
GRANT SELECT ON pizzeria_db.t_paiement TO 'r_gerant';
GRANT SELECT ON pizzeria_db.t_client TO 'r_gerant';
GRANT SELECT ON pizzeria_db.t_livraison TO 'r_gerant';
GRANT SELECT ON pizzeria_db.t_adresse TO 'r_gerant';

GRANT SELECT ON pizzeria_db.t_livraison TO 'r_livreur';
GRANT SELECT ON pizzeria_db.t_adresse TO 'r_livreur';
GRANT SELECT ON pizzeria_db.t_client TO 'r_livreur'; 

GRANT UPDATE (statut, date_arrivee) ON pizzeria_db.t_livraison TO 'r_livreur';

GRANT SELECT ON pizzeria_db.t_article TO 'r_client';

GRANT INSERT, SELECT, UPDATE ON pizzeria_db.t_client TO 'r_client';
GRANT INSERT, SELECT, UPDATE ON pizzeria_db.t_adresse TO 'r_client';

GRANT INSERT ON pizzeria_db.t_commande TO 'r_client';
GRANT INSERT ON pizzeria_db.t_ligne_commande TO 'r_client';
GRANT INSERT ON pizzeria_db.t_paiement TO 'r_client';
GRANT INSERT ON pizzeria_db.t_livraison TO 'r_client'; 

FLUSH PRIVILEGES;